<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta name="generator" content="Hugo 0.79.1" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Develop a community-based, and hence user sourced, multifunction UPS solution for use with the Raspberry Pi main SBC platform (currently RPi3 and 4 models). The board is designed to provide remote power or UPS solutions. Provisions are included for both USB and auxiliary input power. Power is fed to the RPi GPIO header.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Description" />
<meta property="og:description" content="Develop a community-based, and hence user sourced, multifunction UPS solution for use with the Raspberry Pi main SBC platform (currently RPi3 and 4 models). The board is designed to provide remote power or UPS solutions. Provisions are included for both USB and auxiliary input power. Power is fed to the RPi GPIO header." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://superpower.github.io/docs/rpi/description/" />
<meta property="og:image" content="https://superpower.github.io/rpi/desc_13.png" />

<title>Description | Super Power IoT</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.735b6849677de59e1feb300b389bb45db29dadbd954aef8eaa29542edea3aa8f.css" integrity="sha256-c1toSWd95Z4f6zALOJu0XbKdrb2VSu&#43;OqilULt6jqo8=">
<script defer src="/en.search.min.57e4f3f270671726968b90a99e32cd01524f3f44a8f093c5b4c26d2b32827d7e.js" integrity="sha256-V&#43;Tz8nBnFyaWi5CpnjLNAVJPP0So8JPFtMJtKzKCfX4="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>Super Power IoT</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul class="menu-cluster" >
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>PROJECT</span>
  

          
  <ul class="menu-cluster" >
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/project/guidelines/" class="">Guidelines</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/project/license/" class="">License</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/project/howto/" class="">This Website How to</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Microcontroller Solar Power</span>
  

          
  <ul class="menu-cluster" >
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-6c492cf49cd6adf2f25b7e5c4d4accd8" class="toggle"  />
    <label for="section-6c492cf49cd6adf2f25b7e5c4d4accd8" class="flex justify-between">
      <a  class="">Apollo Board</a>
      <span>▾</span>
    </label>
  

          
  <ul class="menu-cluster" >
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/original/schematics/" class="">Schematics (ESP32 shield)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/original/board/" class="">Board (ESP32 shield)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/original/ibom/" class="">Interactive BOM</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-c380057a5724daecfad728ce89e6f049" class="toggle"  />
    <label for="section-c380057a5724daecfad728ce89e6f049" class="flex justify-between">
      <a  class="">Artemis Stacked</a>
      <span>▾</span>
    </label>
  

          
  <ul class="menu-cluster" >
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/lowcost/schematics/" class="">Schematics with ESP32</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/lowcost/board/" class="">Board</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/lowcost/ibom/" class="">Interactive BOM</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-f24d19e039fe0d10b194aead08623b70" class="toggle"  />
    <label for="section-f24d19e039fe0d10b194aead08623b70" class="flex justify-between">
      <a  class="">Artemis Single</a>
      <span>▾</span>
    </label>
  

          
  <ul class="menu-cluster" >
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/lowcost_single/schematics/" class="">Schematics with ESP32</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/lowcost_single/board/" class="">Board</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/lowcost_single/ibom/" class="">Interactive BOM</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/features/" class="">Features</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/requirements/" class="">Requirements</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/workflow/" class="">Workflow</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/diagrams/" class="">Diagrams</a>
  

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <input type="checkbox" id="section-5f78b38d3d9a6b7e3ee8fdacfd7fc8d0" class="toggle"  />
    <label for="section-5f78b38d3d9a6b7e3ee8fdacfd7fc8d0" class="flex justify-between">
      <a  class="">Prod</a>
      <span>▾</span>
    </label>
  

          
  <ul class="menu-cluster" >
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/uc/prod/apv100/" class="">Apollo v1.00</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Raspberry Pi Project &#34;Leto&#34;</span>
  

          
  <ul class="menu-cluster" >
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/rpi/description/" class=" active">Description</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/rpi/requirements/" class="">Requirements</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/rpi/schematics/" class="">Schematics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/rpi/board/" class="">Board</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/rpi/developers/" class="">Developers Section</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://superpower.github.io/docs/rpi/ibom/" class="">Interactive BOM</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="https://github.com/SensorsIot/SuperPower" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
        Project Repo
      </a>
  </li>
  
  <li>
    <a href="https://github.com/SuperPower/hugo_website" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" fill="none" stroke="currentColor"  stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github">    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">        <g id="icon-55-document-text" sketch:type="MSArtboardGroup" fill="#ffffff">            <path d="M19.5,3 L9.00276013,3 C7.89666625,3 7,3.89833832 7,5.00732994 L7,27.9926701 C7,29.1012878 7.89092539,30 8.99742191,30 L24.0025781,30 C25.1057238,30 26,29.1017876 26,28.0092049 L26,10.5 L26,10 L20,3 L19.5,3 L19.5,3 L19.5,3 Z M19,4 L8.9955775,4 C8.44573523,4 8,4.45526288 8,4.99545703 L8,28.004543 C8,28.5543187 8.45470893,29 8.9999602,29 L24.0000398,29 C24.5523026,29 25,28.5550537 25,28.0066023 L25,11 L20.9979131,11 C19.8944962,11 19,10.1134452 19,8.99408095 L19,4 L19,4 Z M20,4.5 L20,8.99121523 C20,9.54835167 20.4506511,10 20.9967388,10 L24.6999512,10 L20,4.5 L20,4.5 Z M10,10 L10,11 L17,11 L17,10 L10,10 L10,10 Z M10,7 L10,8 L17,8 L17,7 L10,7 L10,7 Z M10,13 L10,14 L23,14 L23,13 L10,13 L10,13 Z M10,16 L10,17 L23,17 L23,16 L10,16 L10,16 Z M10,19 L10,20 L23,20 L23,19 L10,19 L10,19 Z M10,22 L10,23 L23,23 L23,22 L10,22 L10,22 Z M10,25 L10,26 L23,26 L23,25 L10,25 L10,25 Z" id="document-text" sketch:type="MSShapeGroup"></path>        </g>    </g></svg>
        Doc Repo
      </a>
  </li>
  
  <li>
    <a href="https://github.com/wassfila" target="_blank" rel="noopener">
        Doc Maintainer
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <script src="https://cdn.babylonjs.com/viewer/babylon.viewer.js"></script>
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

<script src="/js/svg-pan-zoom.min.js"></script>
<div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Description</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li><a href="#repositories">Repositories</a></li>
    <li><a href="#super-power-leto-a-raspberry-pi-ups-solution">Super Power: Leto a Raspberry Pi UPS Solution</a>
      <ul>
        <li><a href="#project-goals">Project Goals</a></li>
        <li><a href="#feature-descriptions">Feature Descriptions</a></li>
        <li><a href="#design">Design</a></li>
        <li><a href="#input-source">Input Source</a></li>
        <li><a href="#charger">Charger</a></li>
        <li><a href="#battery">Battery</a></li>
        <li><a href="#boost-converter">Boost Converter</a></li>
        <li><a href="#output-protection">Output Protection</a></li>
        <li><a href="#output-connections">Output Connections</a></li>
      </ul>
    </li>
    <li><a href="#previous-overview">Previous Overview</a>
      <ul>
        <li><a href="#block-diagram">Block Diagram</a></li>
        <li><a href="#design-1">Design</a></li>
        <li><a href="#physical-form-factor">Physical Form Factor</a></li>
        <li><a href="#use-cases">Use Cases</a></li>
        <li><a href="#potential-future-versions">Potential future versions</a></li>
      </ul>
    </li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h2 id="repositories">
  Repositories
  <a class="anchor" href="#repositories">#</a>
</h2>

<div class="container">
    <div class="row">
        <div class="col text-center">
        <a class="book-btn" href="https://github.com/SensorsIot/SuperPower" role="button" target="_blank">main publishing repo</a>
        </div>
        <br>
    </div>
</div>


<div class="container">
    <div class="row">
        <div class="col text-center">
        <a class="book-btn" href="https://github.com/sethkaz/SuperPower" role="button" target="_blank">RPI Team working fork</a>
        </div>
        <br>
    </div>
</div>


<div class="container">
    <div class="row">
        <div class="col text-center">
        <a class="book-btn" href="https://github.com/jbaumann/SuperPowerFirmware" role="button" target="_blank">Firmware repo</a>
        </div>
        <br>
    </div>
</div>

<h2 id="super-power-leto-a-raspberry-pi-ups-solution">
  Super Power: Leto a Raspberry Pi UPS Solution
  <a class="anchor" href="#super-power-leto-a-raspberry-pi-ups-solution">#</a>
</h2>

<div class="container">
    <div class="row">
        <div class="col text-center">
        <a class="book-btn" href="https://docs.google.com/document/d/1dlMQaehNxwOYq-IFQ4LiB8mH6dt8wZ5A9XqdC2YOq0g/edit" role="button" target="_blank">Description reference in gdrive</a>
        </div>
        <br>
    </div>
</div>

<h3 id="project-goals">
  Project Goals
  <a class="anchor" href="#project-goals">#</a>
</h3>




<div class="text-center">
  <img
    src="/rpi/leto.png"
    alt=""
    width=""
    decoding="async"
  />
</div>

<p>Develop a community-based, and hence user sourced, multifunction UPS solution for use with the Raspberry Pi main SBC platform (currently RPi3 and 4 models).  The board is designed to provide remote power or UPS solutions.  Provisions are included for both USB and auxiliary input power.  Power is fed to the RPi GPIO header.</p>
<p>*** This document is currently in DRAFT *** 
*** Edits, corrections, and improvements are very welcome! ***
*** The RPi Leto Team ***</p>
<h3 id="feature-descriptions">
  Feature Descriptions
  <a class="anchor" href="#feature-descriptions">#</a>
</h3>
<p>The board can operate islanded by using a connected battery pack or the board can be used as a UPS solution leaving the board connected to a power source. Leto supports charge while operating, providing uninterrupted RPi operation.</p>
<p>The onboard controller includes communication features and expandability for future development.  Included are a RTC and I2C communications to the host RPi platform.  The inclusion of the RTC permits the Leto board to provide scheduled RPi operation.  Physical connection to the RPi GPIO header accommodates a safe-shutdown hardware signal feature for use in either scheduled operation or low-power UPS safe-shutdown.</p>
<p>The included I2C communication permits higher level functionality and data exchange between the Leto uC and the RPi.  This permits functionality such as charge state, voltage levels, and access to Leto hardware level registers.  The uC permits additional communication provisions for secondary I2C and CANBUS for future feature integration.</p>
<p>The Leto board is designed to be firmware configurable from the RPi using the project development framework and debugging solution.  This provides first-time users an out-of-the-box boot and flash configuration without the use of additional or separate hardware.</p>
<p>Because this is a community project, the board includes additional hardware features for expandability, testing, and alternate uC configurations.  The team worked to balance features to include provisions for cost, platform flexibility, education, and to address a solution not available on the market.</p>
<h3 id="design">
  Design
  <a class="anchor" href="#design">#</a>
</h3>
<p>The board is separated into seven functional areas.  There is an accompanying project schematic for each area:</p>
<ol>
<li>Input Source</li>
<li>Charger</li>
<li>Battery</li>
<li>Boost Converter</li>
<li>Output Protection</li>
<li>MCU</li>
<li>Output Connections</li>
</ol>
<h3 id="input-source">
  Input Source
  <a class="anchor" href="#input-source">#</a>
</h3>
<p>The input source permits for connection to either a USB type-C connector or screw terminals.  The team selected USB-C for its higher power capacity specification over the previous version of USB and that current versions of RPi 4 are configured with type-C.  This permits the end user to use their existing power supply to power the Leto project.</p>
<p>Recognizing that many other options for power are available, the team provided screw terminals to permit the connection of alternate sources.  One considered use case is a remotely managed and voltage regulated solar array.</p>




<div class="text-center">
  <img
    src="/rpi/desc_1.png"
    alt=""
    width="300px"
    decoding="async"
  />
</div>

<p>The Leto board is designed to charge and run on a 5V power source, but the onboard charging uC can accommodate input voltages on the screw terminals between 4.5 V and 14V.  The data pins on the USB connector are connected to the charging uC to permit full use of its hardware features.  The charging uC supports OTG USB functionality.</p>
<p>Input conditioning includes reverse polarity protection via MOFSET Q3.</p>




<div class="text-center">
  <img
    src="/rpi/desc_2.png"
    alt=""
    width="400px"
    decoding="async"
  />
</div>

<p>Overvoltage protection via the circuit using Q2 and Q7.</p>




<div class="text-center">
  <img
    src="/rpi/desc_3.png"
    alt=""
    width=""
    decoding="async"
  />
</div>

<h3 id="charger">
  Charger
  <a class="anchor" href="#charger">#</a>
</h3>
<p>The Leto project selected the TI BQ25895RTW battery charging uC for its feature set and ability to provide 3.0A to the connected load.  While the RPi in base configuration does not regularly exceed 1.0A of current draw, the team wanted to ensure that the Leto project matched the 3.0A power source regularly provided with the RPi 4.  This additional current overhead permits the use of attached peripherals such as an SSD, field sensors, overclocking, and active cooling.</p>
<p>The current overhead also permits the battery charge uC to operate well below its thermal limits during regular use.</p>
<p>The charger uC uses internal voltage conversion circuitry to control battery charge curves and its externally connected boost converter circuit to regulate the output voltage.</p>




<div class="text-center">
  <img
    src="/rpi/desc_4.png"
    alt=""
    width=""
    decoding="async"
  />
</div>

<p>Additional selection criteria for the charge controller uC included a boost frequency that would not cause problems with the RPi and onboard ADC for battery state communication to the main uC and RPi.</p>
<p>The battery charge uC communicates with the Leto host uC over I2C.</p>
<p>There is a provision for use of a remote battery thermistor for advanced battery charge management.</p>
<p>An onboard LED indicates the presence of voltage on the output of the charging uC.</p>




<div class="text-center">
  <img
    src="/rpi/desc_5.png"
    alt=""
    width="200px"
    decoding="async"
  />
</div>

<p>Current limiting functionality is available on the charger but is not implemented in this version.  IMEAS is provided for future feature addition or for the end user to add features.</p>




<div class="text-center">
  <img
    src="/rpi/desc_6.png"
    alt=""
    width=""
    decoding="async"
  />
</div>

<h3 id="battery">
  Battery
  <a class="anchor" href="#battery">#</a>
</h3>
<p>The project is designed for use with a 2800 mAh Li-Ion 18650 3S battery configuration. Nominal battery voltage design is 3.7V.  The charging uC does not include functionality for cell balancing. This was not implemented due to the nature and variation of potential user connected sources.</p>
<p>The Leto project is not designed for use with multicell packs arranged in a series configuration with voltages over 3.7V.</p>
<p>Recognizing the possibility of user error, the battery circuit implemented polarity protection through Q1 and Q6.</p>




<div class="text-center">
  <img
    src="/rpi/desc_7.png"
    alt=""
    width=""
    decoding="async"
  />
</div>

<p>The board includes multiple test points for the end user to explore and measure board functions.  TP1 and TP2 are provided to manually test the voltage across the battery connectors.</p>
<p>The optional battery thermistor can be connected at J4. The thermistor must be a negative temperature coefficient style.  The recommended unit by TI is a 103AT-2.</p>




<div class="text-center">
  <img
    src="/rpi/desc_8.png"
    alt=""
    width="400px"
    decoding="async"
  />
</div>

<h3 id="boost-converter">
  Boost Converter
  <a class="anchor" href="#boost-converter">#</a>
</h3>
<p>The boost converter steps the charger output voltage to the target Leto supply voltage.  The TI TPS61088 package provides for a peak 10A capacity and internal thermal shutdown protection.</p>
<p>When operated in the target output range of 5V and between 0.5A and 3A, this boost converter achieves 95% efficiency.  The configurable switching frequency permitted the team to design a boost converter that would not cause RPi interference.</p>




<div class="text-center">
  <img
    src="/rpi/desc_9.png"
    alt=""
    width=""
    decoding="async"
  />
</div>





<div class="text-center">
  <img
    src="/rpi/desc_10.png"
    alt=""
    width=""
    decoding="async"
  />
</div>

<p>On board power for the Leto 3.3V control components is provided by U5:</p>




<div class="text-center">
  <img
    src="/rpi/desc_11.png"
    alt=""
    width=""
    decoding="async"
  />
</div>

<h3 id="output-protection">
  Output Protection
  <a class="anchor" href="#output-protection">#</a>
</h3>
<p>The leto project provides output protection using a current regulating circuit connected downstream of the boost converter.  The NCP380 regulates output current in a short condition using internal MOFSET switching.</p>




<div class="text-center">
  <img
    src="/rpi/desc_12.png"
    alt=""
    width=""
    decoding="async"
  />
</div>

<p>The OP_Enable signal permits the Leto uC to switch off power the connected RPi and the FLAG signal indicates a circuit protection state.</p>
<p>The team would like to see additional output signal quantification in future revisions to calculate total power consumption and provide estimated UPS or battery run times.  This feature is not yet implemented due to const and limits on revision one complexity.</p>
<h3 id="output-connections">
  Output Connections
  <a class="anchor" href="#output-connections">#</a>
</h3>
<p>The Leto RPi power management project is designed to be an under-slung solution. The end user is required to assemble provided pogo pins to make connections to the underside of the RPi GPIO header.  The end user can alternately select to mount a standard GPIO shield connector.</p>
<p>An under-slung arrangement using the standard shield footprint was selected to permit the use of active RPi cooling or not interfere with other shields.</p>




<div class="text-center">
  <img
    src="/rpi/desc_13.png"
    alt=""
    width=""
    decoding="async"
  />
</div>

<p>Note: in the render above all of the GPIO are populated. The end user only needs to solder the required GPIO pins identified in the schematic below:</p>




<div class="text-center">
  <img
    src="/rpi/desc_14.png"
    alt=""
    width=""
    decoding="async"
  />
</div>

<p>The Leto board pin connection functionality is as follows:</p>




<div class="text-center">
  <img
    src="/rpi/desc_15.png"
    alt=""
    width=""
    decoding="async"
  />
</div>

<h2 id="previous-overview">
  Previous Overview
  <a class="anchor" href="#previous-overview">#</a>
</h2>
<h3 id="block-diagram">
  Block Diagram
  <a class="anchor" href="#block-diagram">#</a>
</h3>

<div class="container">
    <div class="row">
        <div class="col text-center">
        <a class="book-btn" href="https://drive.google.com/drive/folders/1bbdN6MEDIAA9Wnlnko5vWSpzcss-Ae2l" role="button" target="_blank">reference design in gdrive</a>
        </div>
        <br>
    </div>
</div>




<div class="container">
  <div class="row">
      <div class="col text-center">
          <a id="btn-e11c136b1839544f" class="book-btn" role="button" >Full Screen</a>
      </div>
</div>
<embed id="svg-e11c136b1839544f" type="image/svg+xml" width=100% src="/rpi/RPi%20Block%20Diagram%20-%20R1.svg" />
<script>
  function setup_svg_panzoom(){
    let params = {
          panEnabled: true,
          zoomEnabled: true,
          dblClickZoomEnabled: true,
          controlIconsEnabled: false,
          mouseWheelZoomEnabled: true,
          preventMouseEventsDefault: true,
          zoomScaleSensitivity: 0.6,
          minZoom: 0.5,
          maxZoom: 4,
           fit: true
          , contain: true
          , center: true
          , refreshRate: 'auto'
      };
      let svg_pz = svgPanZoom('#svg-e11c136b1839544f'        ,params);
      window["svg_e11c136b1839544f"] = svg_pz
      let button = document.getElementById("btn-e11c136b1839544f");
      button.onclick = ()=>{
          var elem = document.getElementById("svg-e11c136b1839544f");
          if (elem.requestFullscreen) {
          elem.requestFullscreen();
          } else if (elem.webkitRequestFullscreen) {  
          elem.webkitRequestFullscreen();
          } else if (elem.msRequestFullscreen) {  
          elem.msRequestFullscreen();
          }
      };
  }
  function reset_position(){
    window["svg_e11c136b1839544f"].resize()
    window["svg_e11c136b1839544f"].fit()
    window["svg_e11c136b1839544f"].center()
  }
  document.getElementById('svg-e11c136b1839544f').addEventListener('load', setup_svg_panzoom)
  window.addEventListener('resize', reset_position)
 </script>

<p>The Super Power RPi edition is a battery backup unit for the Raspberry Pi single board computer.  It is meant to work
with the Raspberry Pi 3 and 4.</p>
<h3 id="design-1">
  Design
  <a class="anchor" href="#design-1">#</a>
</h3>
<p>The design is based on the bq25895 charger IC and the TPS61088 boost converter IC.  It also integrates an STM32F412
microcontroller to provide timing and control independent of the Raspberry Pi.</p>
<p>The bq25895 provides some specific benefits for this project.  It has a low series resistance in it&rsquo;s FET, so the
resistance between the battery and the boost converter is quite low. It also automatically negotiates higher power USB
charging.  Finally, it has significant internal monitoring, which eliminates the need for external components such as
an ADC.</p>
<p>The STM32F412 was selected as it has quite a few internal peripherals to choose from. It also has a built in RTC, which
allows for maintaining time even between power cycles.</p>
<p>In addition to the STM32, the footprint for an ATTiny85 was provided, but not populated, such that if anyone wants to
use that series of MCU, they are able.</p>
<h3 id="physical-form-factor">
  Physical Form Factor
  <a class="anchor" href="#physical-form-factor">#</a>
</h3>
<p>The Super Power RPi takes the shape of a Pi HAT PCB.  It is designed to be used as either a traditional HAT, or in an
underslung configuration.</p>
<p>The traditional HAT makes electrical connections using the 40-pin header and it is secured using the mounting holes at
the 4 corners.</p>
<p>The underslung configuration also uses the mounting holes, but makes the electrical connections using pogo-pins.  The
pogo-pins connect to the 5V, GND, and I2C pins.  The standoffs to be used are ____mm tall.</p>
<h3 id="use-cases">
  Use Cases
  <a class="anchor" href="#use-cases">#</a>
</h3>
<p>Generally speaking, any situation that needs a Raspberry Pi to operate on batteries can be a potential use-case for
this design.</p>
<p>More specifically, the following use cases were considered:</p>
<ol>
<li>Uninterruptable Power Supply (UPS).  In cases where there is a potential power interruption, the Superpower provides
backup power so the Raspberry Pi does not have an unexpected restart.</li>
<li>Portable Pi.  In cases where it is desirable to have a portable Pi or a Pi that will operate for extended periods of
time using something other than &ldquo;commercial power mains&rdquo;, such as amateur radio Field Day competitions.  This can be used to provide a computer that meets this criteria.</li>
</ol>
<h3 id="potential-future-versions">
  Potential future versions
  <a class="anchor" href="#potential-future-versions">#</a>
</h3>
<ol>
<li>Build a specific version that includes a solar MPPT IC.</li>
</ol>
<p><a href="https://github.com/SensorsIot/SuperPower/tree/master/SuperPower-RPi">github readme</a></p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#repositories">Repositories</a></li>
    <li><a href="#super-power-leto-a-raspberry-pi-ups-solution">Super Power: Leto a Raspberry Pi UPS Solution</a>
      <ul>
        <li><a href="#project-goals">Project Goals</a></li>
        <li><a href="#feature-descriptions">Feature Descriptions</a></li>
        <li><a href="#design">Design</a></li>
        <li><a href="#input-source">Input Source</a></li>
        <li><a href="#charger">Charger</a></li>
        <li><a href="#battery">Battery</a></li>
        <li><a href="#boost-converter">Boost Converter</a></li>
        <li><a href="#output-protection">Output Protection</a></li>
        <li><a href="#output-connections">Output Connections</a></li>
      </ul>
    </li>
    <li><a href="#previous-overview">Previous Overview</a>
      <ul>
        <li><a href="#block-diagram">Block Diagram</a></li>
        <li><a href="#design-1">Design</a></li>
        <li><a href="#physical-form-factor">Physical Form Factor</a></li>
        <li><a href="#use-cases">Use Cases</a></li>
        <li><a href="#potential-future-versions">Potential future versions</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












